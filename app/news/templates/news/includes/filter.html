{% load sekizai_tags %}

<form action="" id="news-filter" method="get" autocomplete="off">
    <div class="list-items">
        <p class="list-group-item active">Категории</p>
        
        {% for choice in filter.form.category %}
            {{choice.tag}}
            <label class="list-item" for="{{ choice.id_for_label }}">{{ choice.choice_label|safe }}</label>
        {% endfor %}
    </div>
    <div class="list-group list-blog">
        <p class="list-group-item active">Теги</p>
        <div class="tagbox">
            {{filter.form.tags}}
            <div class="clear"></div>
        </div>
    </div>
    <input type="submit" value="Применить" class="btn" />
    {% comment %} <input type="reset" class="btn btn-border"> 
    <button id="filter-reset">...</button> {% endcomment %}
    {% comment %} <input type="reset" id="reset" onclick="this.form.reset();" class="btn btn-border"/> {% endcomment %}
    {% comment %} <button type="reset" class="btn btn-border"><i class="fa fa-check"></i></button> {% endcomment %}
    {% comment %} <input type="submit" value="Применить" class="hidden d-none" /> {% endcomment %}
</form>

{% addtoblock "js" %}
<script type="text/javascript">
$( document ).ready(function() {
    $('#news-filter input.autoapply').on('change', function() {
        $(this).closest("form").submit();
    });
    $('#news-filter input#filter-reset').on('click', function() {
        $(this).closest("form").reset();
        //$(this).closest("form").find('input:not([type="submit"])').val('');
    });
});
</script>
{% endaddtoblock %}